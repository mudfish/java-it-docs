---
title: Docker
date: 2022-08-05 14:31:26
permalink: /pages/72aff1/
---

# 常用配置
## 配置镜像仓库

# 开发环境
## mongodb
- docker部署
```bash
# 创建挂在目录
mkdir -p /mydata/mongodb/{data,conf,log}
# 创建配置文件
vi /mydata/mongodb/conf/mongodb.conf
```

```
# for documentation of all options, see:
#   http://docs.mongodb.org/manual/reference/configuration-options/

# Where and how to store data.
storage:
  dbPath: /var/lib/mongodb
  journal:
    enabled: true
#  engine:
#  mmapv1:
#  wiredTiger:

# where to write logging data.
systemLog:
  destination: file
  logAppend: true
  path: /var/log/mongodb/mongod.log

# network interfaces
net:
  port: 27017
  bindIp: 0.0.0.0


# how the process runs
processManagement:
  timeZoneInfo: /usr/share/zoneinfo

#security:

#operationProfiling:

#replication:

#sharding:

## Enterprise-Only Options:

#auditLog:

#snmp:
```


```shell
# 创建启动脚本
vi /home/mongo-start.sh

docker run -d --name mongo -v /mydata/mongodb/data:/data/db -v /mydata/mongodb/conf:/data/configdb -v /mydata/mongodb/log:/data/log -p 27017:27017 -e MONGO_INITDB_ROOT_USERNAME=admin -e MONGO_INITDB_ROOT_PASSWORD=admin --privileged=true mongo:4

#  启动
sh mongo-start.sh
```

